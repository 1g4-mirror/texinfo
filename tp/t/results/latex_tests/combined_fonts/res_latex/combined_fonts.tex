\documentclass{book}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage[gen]{eurosym}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{etoolbox}
\usepackage{titleps}
\usepackage{float}
% use hidelinks to remove boxes around links to be similar with Texinfo TeX
\usepackage[hidelinks]{hyperref}
\usepackage[utf8]{inputenc}

\newcommand{\GNUTexinfosettitle}{No Title}%

% style command for cite in codetext
\newcommand\GNUTexinfocommandstylecodetextcite[1]{{\normalfont{}\textsl{#1}}}%

% redefine the \mainmatter command such that it does not clear page
% as if in double page
\makeatletter
\renewcommand\mainmatter{\clearpage\@mainmattertrue\pagenumbering{arabic}}
\makeatother
% add command aliases to use the same command in book and report
\newcommand\GNUTexinfomainmatter{\mainmatter}
\newcommand\GNUTexinfofrontmatter{\frontmatter}
% command that does nothing used to help with substitutions in commands
\newcommand{\GNUTexinfoplaceholder}[1]{}

% plain page style, for part and chapter, which call \thispagestyle{plain}
\renewpagestyle{plain}{\sethead[\thepage{}][][]
                             {}{}{\thepage{}}}

% single header
\newpagestyle{single}{\sethead[\chaptername{} \thechapter{} \chaptertitle{}][][\thepage]
                              {\chaptername{} \thechapter{} \chaptertitle{}}{}{\thepage}}

% called when setting single headers
\newcommand{\GNUTexinfosetsingleheader}{\pagestyle{single}}

% double header
\newpagestyle{double}{\sethead[\thepage{}][][\GNUTexinfosettitle]
                              {\chaptername{} \thechapter{} \chaptertitle{}}{}{\thepage}}

% called when setting double headers
\newcommand{\GNUTexinfosetdoubleheader}{\pagestyle{double}}


% avoid pagebreak and headings setting for a sectionning command
\newcommand{\GNUTexinfonopagebreakheading}[2]{\let\clearpage\relax \let\cleardoublepage\relax \let\thispagestyle\GNUTexinfoplaceholder #1{#2}}

\renewcommand{\includegraphics}[1]{\fbox{FIG \detokenize{#1}}}

% set default for @setchapternewpage
\makeatletter
\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{\GNUTexinfoplaceholder{setchapternewpage placeholder}\clearpage}{}{}
\makeatother
\GNUTexinfosetsingleheader{}%


\begin{document}
\label{anchor:Top}%
\chapter{chapter}
\label{anchor:chapter}%

\texttt{code}, \textsl{dfn}, \textsl{var}, \textbf{strong}, {\ttfamily\textsl{kbd}}, `\texttt{samp}'.

\texttt{\textsl{dfn in code}}
\textsl{\texttt{code in var}}
\texttt{\textsl{var in code}}
\textbf{{\ttfamily\textsl{kbd in strong}}}
`\texttt{\textbf{strong in samp}}'
\textbf{`\texttt{samp in strong}'}

\textsl{cite}

\texttt{\GNUTexinfocommandstylecodetextcite{cite in code}}
\textsl{\texttt{code in cite}}

\texttt{code} \textsl{slanted} \textbf{b}
\texttt{\textsl{slanted in code}}
\textsl{\texttt{code in slanted}}
\textbf{\textsl{slanted in b}}
\textsl{\textbf{b in slanted}}

\par\begingroup\obeylines\obeyspaces\frenchspacing\leftskip=2em \parskip=0pt \parindent=0pt \ttfamily{}%
\textsl{var in example}
\GNUTexinfocommandstylecodetextcite{cite in example}
\endgroup{}%
\end{document}
