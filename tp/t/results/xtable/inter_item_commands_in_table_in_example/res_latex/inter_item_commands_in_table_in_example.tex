\documentclass{book}
\usepackage{imakeidx}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage[gen]{eurosym}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage{titleps}
\usepackage{float}
% use hidelinks to remove boxes around links to be similar to Texinfo TeX
\usepackage[hidelinks]{hyperref}
\usepackage[utf8]{inputenc}

\makeatletter
\newcommand{\GNUTexinfosettitle}{No Title}%

\makeindex[name=cp]%

% style command for var in 'cmd_text' formatting context
\newcommand\GNUTexinfocommandstyletextvar[1]{{\normalfont{}\textsl{#1}}}%

% redefine the \mainmatter command such that it does not clear page
% as if in double page
\renewcommand\mainmatter{\clearpage\@mainmattertrue\pagenumbering{arabic}}
\newenvironment{GNUTexinfopreformatted}{%
  \par\GNUTobeylines\obeyspaces\frenchspacing\parskip=\z@\parindent=\z@}{}
{\catcode`\^^M=13 \gdef\GNUTobeylines{\catcode`\^^M=13 \def^^M{\null\par}}}
\newenvironment{GNUTexinfoindented}{\begin{list}{}{}\item\relax}{\end{list}}

\AtBeginEnvironment{GNUTexinfopreformatted}{\microtypesetup{activate=false}}

% set defaults for lists that match Texinfo TeX formatting
\setlist[description]{style=nextline, font=\normalfont}

% used for substitutions in commands
\newcommand{\GNUTexinfoplaceholder}[1]{}

\newpagestyle{single}{\sethead[\chaptername{} \thechapter{} \chaptertitle{}][][\thepage]
                              {\chaptername{} \thechapter{} \chaptertitle{}}{}{\thepage}}

\renewcommand{\includegraphics}[1]{\fbox{FIG \detokenize{#1}}}

\makeatother
% set default for @setchapternewpage
\makeatletter
\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{\GNUTexinfoplaceholder{setchapternewpage placeholder}\clearpage}{}{}
\makeatother
\pagestyle{single}%

\begin{document}
\begin{GNUTexinfoindented}
\begin{description}
\item[{\parbox[b]{\linewidth}{%
\GNUTexinfocommandstyletextvar{a--b}\\
\index[cp]{index entry between item and itemx}%
\GNUTexinfocommandstyletextvar{b}\\
\GNUTexinfocommandstyletextvar{c}}}]
\begin{GNUTexinfopreformatted}%
\ttfamily l{-}{-}ine
\end{GNUTexinfopreformatted}
\item[{\parbox[b]{\linewidth}{%
\GNUTexinfocommandstyletextvar{d}}}]
\end{description}
\end{GNUTexinfoindented}
\end{document}
