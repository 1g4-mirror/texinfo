<!DOCTYPE html>
<html>
<!-- Created by Texinfo 6.8dev+dev, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This manual is for GNU Texinfo (version 6.8dev, 23 February 2022),
a documentation system that can produce both online information and a
printed manual from a single source using semantic markup.

Copyright (C) 1988, 1990-1993, 1995-1999, 2001-2022 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<title>Format with texi2dvi (GNU Texinfo 6.8dev)</title>

<meta name="description" content="Format with texi2dvi (GNU Texinfo 6.8dev)">
<meta name="keywords" content="Format with texi2dvi (GNU Texinfo 6.8dev)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Command-and-Variable-Index.html" rel="index" title="Command and Variable Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Hardcopy.html" rel="up" title="Hardcopy">
<link href="Format-with-tex_002ftexindex.html" rel="next" title="Format with tex/texindex">
<link href="Use-TeX.html" rel="prev" title="Use TeX">
<style type="text/css">
<!--
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Format-with-texi2dvi">
<div class="nav-panel">
<p>
Next: <a href="Format-with-tex_002ftexindex.html" accesskey="n" rel="next">Format with <code class="command">tex</code>/<code class="command">texindex</code></a>, Previous: <a href="Use-TeX.html" accesskey="p" rel="prev">Use TeX</a>, Up: <a href="Hardcopy.html" accesskey="u" rel="up">Formatting and Printing Hardcopy</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-and-Variable-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Format-with-texi2dvi-1">18.2 Format with <code class="command">texi2dvi</code></h3>

<a class="index-entry-id" id="index-texi2dvi-_0028shell-script_0029"></a>
<a class="index-entry-id" id="index-texi2pdf-_0028shell-script_0029"></a>
<a class="index-entry-id" id="index-DVI_002c-output-in"></a>

<p>The <code class="code">texi2dvi</code> program takes care of all the steps for producing
a TeX DVI file from a Texinfo document.  Similarly, <code class="code">texi2pdf</code>
produces a PDF file.
</p>
<p>To run <code class="code">texi2dvi</code> or <code class="code">texi2pdf</code> on an input file
<samp class="file">foo.texi</samp>, do this (where &lsquo;<samp class="samp">prompt$ </samp>&rsquo; is your shell prompt):
</p>
<div class="example">
<pre class="example-preformatted">prompt$ <kbd class="kbd">texi2dvi foo.texi</kbd>
prompt$ <kbd class="kbd">texi2pdf foo.texi</kbd>
</pre></div>

<p>As shown in this example, the file names given to <code class="code">texi2dvi</code> and
<code class="code">texi2pdf</code> must include any extension, such as &lsquo;<samp class="samp">.texi</samp>&rsquo;.
</p>
<p>For a list of all the options, run &lsquo;<samp class="samp">texi2dvi --help</samp>&rsquo;.  Some of the
options are discussed below.
</p>
<a class="index-entry-id" id="index-_002d_002dpdf_002c-for-texi2dvi"></a>
<a class="index-entry-id" id="index-pdftexi2dvi"></a>
<p>With the <samp class="option">--pdf</samp> option, <code class="command">texi2dvi</code> produces PDF output
instead of DVI (see <a class="pxref" href="PDF-Output.html">PDF Output</a>), by running <code class="command">pdftex</code>
instead of <code class="command">tex</code>.  Alternatively, the command
<code class="command">texi2pdf</code> is an abbreviation for running &lsquo;<samp class="samp">texi2dvi
--pdf</samp>&rsquo;.  The command <code class="command">pdftexi2dvi</code> is also provided as a
convenience for AUC-TeX (see <cite class="cite"><a data-manual="auctex" href="https://www.gnu.org/software/auctex/manual/auctex/index.html#Top">AUC-TeX</a></cite>), as it
prefers to merely prepend &lsquo;<samp class="samp">pdf</samp>&rsquo; to DVI producing tools to have
PDF producing tools.
</p>
<a class="index-entry-id" id="index-_002d_002ddvipdf_002c-for-texi2dvi"></a>
<a class="index-entry-id" id="index-dvipdfmx"></a>
<p>With the <samp class="option">--dvipdf</samp> option, <code class="command">texi2dvi</code> produces PDF
output by running TeX and then a DVI-to-PDF program: if the
<code class="env">DVIPDF</code> environment variable is set, that value is used, else the
first program extant among <code class="code">dvipdfmx</code>, <code class="code">dvipdfm</code>,
<code class="code">dvipdf</code>, <code class="code">dvi2pdf</code>, <code class="code">dvitopdf</code>.  This method generally
supports CJK typesetting better than <code class="command">pdftex</code>.
</p>
<a class="index-entry-id" id="index-_002d_002dps_002c-for-texi2dvi"></a>
<a class="index-entry-id" id="index-dvips-1"></a>
<p>With the <samp class="option">--ps</samp> option, <code class="command">texi2dvi</code> produces PostScript
instead of DVI, by running <code class="command">tex</code> and then <code class="command">dvips</code>
(see <cite class="cite"><a data-manual="dvips" href="https://tug.org/texinfohtml/dvips.html#Top">Dvips</a></cite>).  (Or the value of the <code class="env">DVIPS</code>
environment variable, if set.)
</p>
<a class="index-entry-id" id="index-_002d_002dlanguage_002c-for-texi2dvi"></a>
<a class="index-entry-id" id="index-LaTeX_002c-processing-with-texi2dvi"></a>
<p><code class="command">texi2dvi</code> can also be used to process LaTeX files.
Normally <code class="command">texi2dvi</code> is able to guess the input file language
by its contents and file name extension; however, if it guesses wrong
you can explicitly specify the input language using
<samp class="option">--language=<var class="var">lang</var></samp> command line option, where <var class="var">lang</var>
is either &lsquo;<samp class="samp">latex</samp>&rsquo; or &lsquo;<samp class="samp">texinfo</samp>&rsquo;.
</p>
<a class="index-entry-id" id="index-_002d_002dcommand_002c-for-texi2dvi"></a>
<p>One useful option to <code class="code">texi2dvi</code> is &lsquo;<samp class="samp">--command=<var class="var">cmd</var></samp>&rsquo;.
This inserts <var class="var">cmd</var> on a line by itself at the start of the file
in a temporary copy of the input file, before
running TeX.  With this, you can specify different printing
formats, such as <code class="code">@smallbook</code> (see <a class="pxref" href="_0040smallbook.html"><code class="code">@smallbook</code>: Printing &ldquo;Small&rdquo; Books</a>),
<code class="code">@afourpaper</code> (see <a class="pxref" href="A4-Paper.html">Printing on A4 Paper</a>), or <code class="code">@pagesizes</code>
(see <a class="pxref" href="_0040pagesizes.html"><code class="code">@pagesizes</code> [<var class="var">width</var>][, <var class="var">height</var>]: Custom Page Sizes</a>), without actually changing the document
source.  (You can also do this on a site-wide basis with
<samp class="file">texinfo.cnf</samp>; see <a class="pxref" href="Preparing-for-TeX.html">Preparing for TeX</a>).
</p>
<p>The option <samp class="option">-E</samp> (equivalently, <samp class="option">-e</samp> and
<samp class="option">--expand</samp>) does Texinfo macro expansion using
<code class="command">makeinfo</code> instead of the TeX implementation (see <a class="pxref" href="Macro-Details.html">Macro Details and Caveats</a>).  Each implementation has its own limitations and
advantages.  If this option is used, no line in the source file
may begin with the string <code class="code">@c&nbsp;_texi2dvi</code> or the
string <code class="code">@c&nbsp;(_texi2dvi)</code>.
</p>
<p><code class="command">texi2dvi</code> takes the <samp class="option">--build=<var class="var">mode</var></samp> option to 
specify where the TeX compilation takes place, and, as a
consequence, how auxiliary files are treated.  The build mode
can also be set using the environment variable 
<code class="env">TEXI2DVI_BUILD_MODE</code>.  The valid values for <var class="var">mode</var> are:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">local</samp>&rsquo;</dt>
<dd><p>Compile in the current directory, leaving all the auxiliary
 files around.  This is the traditional TeX use.
</p>
</dd>
<dt>&lsquo;<samp class="samp">tidy</samp>&rsquo;</dt>
<dd><p>Compile in a local <code class="code">*.t2d</code> directory, where the auxiliary files
 are left.  Output files are copied back to the original file.
</p>
<p>Using the &lsquo;<samp class="samp">tidy</samp>&rsquo; mode brings several advantages:
 </p><ul class="itemize" style="list-style-type: '-'">
<li>the current directory is not cluttered with plethora of temporary files.
 </li><li>clutter can be even further reduced using <samp class="option">--build-dir=dir</samp>: all
   the <code class="code">*.t2d</code> directories are stored there.
 </li><li>clutter can be reduced to zero using, e.g.,
   <samp class="option">--build-dir=/tmp/\$USER.t2d</samp> or <samp class="option">--build-dir=\$HOME/.t2d</samp>.
 </li><li>the output file is updated after every successful TeX run, for
   sake of concurrent visualization of the output.  In a &lsquo;<samp class="samp">local</samp>&rsquo; build
   the viewer stops during the whole TeX run.
 </li><li>if the compilation fails, the previous state of the output file
   is preserved.
 </li><li><acronym class="acronym">PDF</acronym> and <acronym class="acronym">DVI</acronym> compilation are kept in separate
   subdirectories
   preventing any possibility of auxiliary file incompatibility.
 </li></ul>

<p>On the other hand, because &lsquo;<samp class="samp">tidy</samp>&rsquo; compilation takes place in another
 directory, occasionally TeX won&rsquo;t be able to find some files (e.g., when
 using <code class="code">\graphicspath</code>): in that case, use <samp class="option">-I</samp> to specify the
 additional directories to consider.
</p>
</dd>
<dt>&lsquo;<samp class="samp">clean</samp>&rsquo;</dt>
<dd><p>Same as &lsquo;<samp class="samp">tidy</samp>&rsquo;, but remove the auxiliary directory afterwards.
 Every compilation therefore requires the full cycle.
</p></dd>
</dl>

<a class="index-entry-id" id="index-etex"></a>
<a class="index-entry-id" id="index-pdfetex"></a>
<p><code class="command">texi2dvi</code> will use <code class="command">etex</code> (or <code class="command">pdfetex</code>) if
it is available, because it runs faster in some cases, and
provides additional tracing information when debugging
<samp class="file">texinfo.tex</samp>.  Nevertheless, this extended version of TeX is
not required, and the DVI output is identical.
(These days, <code class="command">pdftex</code> and <code class="command">pdfetex</code> are exactly the
same, but we still run <code class="command">pdfetex</code> to cater to ancient TeX
installations.)
</p>
<a class="index-entry-id" id="index-file-recorder-for-TeX"></a>
<a class="index-entry-id" id="index-_005copenout-line-in-log-file"></a>
<p><code class="command">texi2dvi</code> attempts to detect auxiliary files output by TeX, 
either by using the <samp class="option">-recorder</samp> option, or by scanning for 
&lsquo;<samp class="samp">\openout</samp>&rsquo; in the log file that a run of TeX produces.  You may
control how <code class="command">texi2dvi</code> does this with the <code class="env">TEXI2DVI_USE_RECORDER</code>
environment variable.  Valid values are:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">yes</samp>&rsquo;</dt>
<dd><p>use the <samp class="option">-recorder</samp> option, no checks.
</p>
</dd>
<dt>&lsquo;<samp class="samp">no</samp>&rsquo;</dt>
<dd><p>scan for &lsquo;<samp class="samp">\openout</samp>&rsquo; in the log file, no checks.
</p>
</dd>
<dt>&lsquo;<samp class="samp">yesmaybe</samp>&rsquo;</dt>
<dd><p>check whether <samp class="option">-recorder</samp> option is supported, and if yes
use it, otherwise check for tracing &lsquo;<samp class="samp">\openout</samp>&rsquo; in the log file is 
supported, and if yes use it, else it is an error.
</p>
</dd>
<dt>&lsquo;<samp class="samp">nomaybe</samp>&rsquo;</dt>
<dd><p>same as &lsquo;<samp class="samp">yesmaybe</samp>&rsquo;, except that the &lsquo;<samp class="samp">\openout</samp>&rsquo; trace in log 
file is checked first.
</p></dd>
</dl>

<p>The default is &lsquo;<samp class="samp">nomaybe</samp>&rsquo;.  This environment variable is provided 
for troubleshooting purposes, and may change or disappear in the future.
</p>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Format-with-tex_002ftexindex.html">Format with <code class="command">tex</code>/<code class="command">texindex</code></a>, Previous: <a href="Use-TeX.html">Use TeX</a>, Up: <a href="Hardcopy.html">Formatting and Printing Hardcopy</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Command-and-Variable-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
